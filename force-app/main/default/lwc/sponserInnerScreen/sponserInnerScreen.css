/* =========================
   RESET & BASE STYLES
   ========================= */
* {
    box-sizing: border-box;
}

/* =========================
   PROFILE CARDS STYLES (Profile Tab)
   ========================= */
.profile-cards-container {
    gap: 12px;
    padding: 10px 0;
}

.profile-card {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid #e5e7eb;
    overflow: hidden;
}

.profile-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 16px 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #ffffff;
}

.profile-card-icon {
    color: #3b82f6;
}

.profile-card-title {
    font-size: 1rem;
    font-weight: 600;
    color: #1f2937;
    flex: 1;
}

.profile-card-body {
    padding: 16px 20px;
}

/* Sponsor Details - Two column layout */
.profile-field-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #f3f4f6;
}

.profile-field-row:last-child {
    border-bottom: none;
}

.profile-field-label {
    font-size: 0.875rem;
    color: #6b7280;
    font-weight: 500;
    flex: 0 0 45%;
}

.profile-field-value {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 8px;
    font-size: 0.875rem;
    color: #1f2937;
    font-weight: 400;
    flex: 0 0 55%;
    text-align: right;
}

.profile-edit-icon {
    color: #3b82f6;
    opacity: 0.7;
    cursor: pointer;
}

.profile-edit-icon:hover {
    opacity: 1;
}

/* Status badge in Profile card */
.profile-field-value .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8125rem;
    font-weight: 500;
}

.profile-field-value .status-badge.status-active {
    background-color: #d1fae5;
    color: #065f46;
    border: none;
}

.profile-field-value .status-icon {
    color: #059669;
}

/* Contact Details Card */
.add-contact-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    background-color: #f3f4f6;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 0.8125rem;
    font-weight: 500;
    color: #374151;
    cursor: pointer;
    transition: all 0.15s ease;
    margin-left: auto;
}

.add-contact-btn:hover {
    background-color: #e5e7eb;
    border-color: #9ca3af;
}

.contact-person-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding-bottom: 12px;
    border-bottom: 1px solid #f3f4f6;
    margin-bottom: 12px;
}

.contact-person-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.contact-person-name {
    font-size: 1rem;
    font-weight: 600;
    color: #1f2937;
}

.contact-person-role {
    display: inline-block;
    padding: 3px 10px;
    background-color: #e0f2fe;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
    color: #0369a1;
}

.contact-person-actions {
    display: flex;
    gap: 4px;
}

.contact-detail-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    color: #4b5563;
    font-size: 0.875rem;
}

.contact-icon {
    color: #6b7280;
}

/* CVP Team Card */
.dx-team-edit-btn {
    margin-left: auto;
    color: #3b82f6;
}

.dx-team-label {
    font-size: 0.8125rem;
    color: #6b7280;
    font-weight: 500;
    margin-bottom: 12px;
}

.dx-team-profile {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
}

.dx-team-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid #e5e7eb;
}

.dx-team-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.dx-team-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.dx-team-name {
    font-size: 0.9375rem;
    font-weight: 600;
    color: #1f2937;
}

.dx-team-email {
    font-size: 0.8125rem;
    color: #6b7280;
}

.dx-team-contact-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    color: #4b5563;
    font-size: 0.875rem;
}

.dx-team-icon {
    color: #6b7280;
}

/* =========================
   PROJECT STATUS BADGES & TABLE HELPERS
   ========================= */
.project-status-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: 500;
    border: 2px solid;
    text-align: center;
}

.status-active {
    background-color: #d4edda;
    border-color: #28a745;
    color: #155724;
}

.status-planning {
    background-color: #fff3cd;
    border-color: #ffc107;
    color: #856404;
}

.status-completed {
    background-color: #d1ecf1;
    border-color: #17a2b8;
    color: #0c5460;
}

.status-on-hold {
    background-color: #f8d7da;
    border-color: #dc3545;
    color: #721c24;
}

.status-cancelled {
    background-color: #e2e3e5;
    border-color: #6c757d;
    color: #383d41;
}

.contact-cell {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.contact-name {
    flex: 1;
}

/* =========================
   ENQUIRIES TABLE STYLES
   ========================= */
.enquiries-table {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.table-rounded thead th {
    background: #f4f6f9;
    font-weight: 600;
    color: #4a5568;
}

.sortable-header {
    cursor: pointer;
}

.header-content {
    display: flex;
    align-items: center;
    gap: 6px;
}

.action-buttons-cell {
    display: flex;
    gap: 6px;
}

.status-cell .enquiry-status {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    border: 1px solid transparent;
}

.status-open {
    background: #e6fffb;
    color: #0f766e;
    border-color: #99f6e4;
}

.status-review {
    background: #fff7ed;
    color: #c05621;
    border-color: #fed7aa;
}

.status-closed {
    background: #f0f4ff;
    color: #3730a3;
    border-color: #c7d2fe;
}

.name-with-avatar {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.profile-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: #e5e7eb;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: #4b5563;
    font-size: 0.8rem;
}

/* Align enquiry status badges to healthSystems styling */
/* .badge-soft-success,
.badge-soft-info,
.badge-soft-danger {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 4px 10px;
    border-radius: 0.25rem;
    font-size: 0.8rem;
    font-weight: 600;
    min-width: 88px;
    border: 1px solid transparent;
} */

.badge-soft-success { background-color: #e6f4ea; color: #2e7d32; border: 1px solid #81c784; padding: 0.25rem 0.5rem; border-radius: 0.25rem; }
.badge-soft-info { background-color: #f3e9f8; color: #5b2d6a; border: 1px solid #5b2d6a; padding: 0.25rem 0.5rem; border-radius: 0.25rem; }
.badge-soft-danger {  background-color: #fdecea; color: #c23934; border: 1px solid #f5c6cb; padding: 0.25rem 0.5rem; border-radius: 0.25rem; }

.border { border-width: 1px; border-style: solid; }
.border-success { border-color: #81c784; }
.border-info { border-color: #f5c6cb; }
.border-danger { border-color: #c23934; }

/* =========================
   HIGHLIGHTS PANEL
   ========================= */
.highlights {
    background: white;
    padding: 1rem;
    border-bottom: 1px solid #dddbda;
    /* keep the highlights area consistent across tabs */
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;
    /* fixed height to avoid layout jumps when tab content changes */
    min-height: 140px;
    height: 140px;
    width: 100%;
    overflow: hidden;
}

.highlights-icon-container {
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.25rem;
}

.highlights-icon-container img {
    width: 2rem;
    height: 2rem;
}

.entityNameTitle {
    font-size: 0.75rem;
    color: #706e6b;
    text-transform: uppercase;
    letter-spacing: 0.0625rem;
}

/* Keep Project title and ID on a single line; truncate long IDs with ellipsis */
.slds-media__body h1 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    white-space: nowrap; /* prevent wrapping */
    margin: 0;
}

.entityNameTitle {
    white-space: nowrap;
    display: inline-block;
    margin-right: 0.5rem;
}

.slds-page-header__title {
    /* allow the title to flex and truncate when necessary */
    flex: 1 1 auto;
    min-width: 0; /* allow truncation inside flex */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.slds-page-header__title {
    font-size: 1.75rem;
    font-weight: 300;
    line-height: 1.25;
}

.secondaryFields {
    margin-top: 0.75rem;
    /* ensure the secondary detail row doesn't stretch the highlights area */
    flex: 0 0 auto;
    overflow: hidden;
}

.slds-page-header__detail-block {
    margin-right: 2rem;
}

.slds-text-title {
    font-size: 0.75rem;
    color: #706e6b;
}

.fieldComponent {
    font-size: 0.875rem;
    color: #080707;
}

.actionsContainer {
    margin-left: auto;
    display: flex;
    justify-content: flex-end;
    width: auto;
    flex-shrink: 0;
}

.actionsContainer .slds-grid {
    width: auto;
    justify-content: flex-end;
}

.actionsContainer .slds-grid_vertical-align-center {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    white-space: nowrap;
}

.slds-button-group-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 0.5rem;
}

/* =========================
   TABS
   ========================= */
.uiTabset {
    background: white;
}

.uiTabBar {
    border-bottom: 1px solid #dddbda;
}

.tabs__nav {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0 1rem;
}

.tabs__item {
    margin: 0;
}

.tabHeader {
    display: block;
    padding: 0.75rem 0.5rem;
    color: #706e6b;
    text-decoration: none;
    border-bottom: 2px solid transparent;
    transition: border-color 0.1s linear;
}

.tabs__item.active .tabHeader {
    color: #0176d3;
    border-bottom-color: #0176d3;
    font-weight: 400;
}

.tabHeader:hover {
    color: #0176d3;
    text-decoration: none;
}

/* =========================
   DETAIL PANEL STRUCTURE
   ========================= */
.forceCommunityRecordDetail {
    background: #f3f3f3;
    padding: 1rem;
    width: 100%;
}

.detail-panel-root {
    background: white;
    padding: 0;
    width: 100%;
}

.base-record-form-header-container {
    padding: 1.5rem;
    width: 100%;
}

.record-body-container {
    width: 100%;
}

.record-layout-container {
    padding: 1rem 1.5rem;
    width: 100%;
}

/* =========================
   SECTION STYLES
   ========================= */
.test-id__section {
    border-bottom: 1px solid #dddbda;
    padding: 1rem 0;
}

.test-id__section:last-child {
    border-bottom: none;
}

.test-id__section-content {
    padding: 1rem 0;
}

.test-id__section-header-container {
    margin: 0;
    padding: 0.75rem 0;
}

.test-id__section-header-button {
    display: flex;
    align-items: center;
    width: 100%;
    background: transparent;
    border: none;
    text-align: left;
    cursor: pointer;
    padding: 0;
}

.test-id__section-header-button:hover {
    background: #f3f3f3;
}

.test-id__section-header-title {
    font-size: 0.875rem;
    font-weight: 700;
    color: #080707;
}

/* =========================
   GRID SYSTEM - CLEAN & SIMPLE
   ========================= */
.slds-form {
    width: 100%;
}

.slds-form__row {
    width: 100%;
    margin-bottom: 1rem;
}

.slds-grid {
    display: flex;
    width: 100%;
}

/* Utility: equally space direct children inside a .slds-grid
   Usage: add class 'equal-space' to the same element as 'slds-grid', e.g.
   <div class="slds-grid equal-space"> ... </div>
*/
.slds-grid.equal-space {
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

/* Optionally make children flex to share available space when using equal-space */
.slds-grid.equal-space > * {
    flex: 1 1 0;
}

/* Make detail blocks inside the page header share the available width equally
   while preserving reasonable minimum width for smaller screens. */
.slds-page-header__detail-row.equal-space > .slds-page-header__detail-block {
    flex: 1 1 0;
    min-width: 120px; /* allow wrapping on narrow screens */
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}

.slds-size_1-of-1 {
    width: 100%;
    flex: 0 0 100%;
}

.slds-size_1-of-2 {
    width: 50%;
    flex: 0 0 50%;
}

.slds-form__item {
    width: 100%;
    padding: 0 0.75rem;
}

.slds-form__item.item-left {
    padding-left: 0;
    padding-right: 0.75rem;
}

.slds-form__item.item-right {
    padding-left: 0.75rem;
    padding-right: 0;
}

.slds-no-space {
    margin: 0;
}

.label-stacked {
    width: 100%;
}

/* =========================
   FORM FIELDS - STYLE 1 (Simple)
   ========================= */
.slds-form-element {
    width: 100%;
    margin-bottom: 1rem;
}

.slds-form-element__label {
    font-size: 0.75rem;
    color: #706e6b;
    display: block;
    margin-bottom: 0.25rem;
    font-weight: 400;
}

.slds-form-element__control {
    width: 100%;
}

.slds-form-element__static {
    font-size: 0.875rem;
    color: #080707;
    display: block;
    padding: 0.5rem 0;
    min-height: 1.875rem;
    line-height: 1.5;
    word-wrap: break-word;
}

/* =========================
   FORM FIELDS - STYLE 2 (With Helptext)
   ========================= */
.test-id__output-root {
    width: 100%;
}

.test-id__field-label-container {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    margin-bottom: 0.25rem;
    min-height: 1.125rem;
}

.test-id__field-label {
    font-size: 0.75rem;
    color: #706e6b;
    font-weight: 400;
    white-space: nowrap;
}

.test-id__field-value {
    font-size: 0.875rem;
    color: #080707;
    display: block;
    width: 100%;
    box-sizing: border-box;
    padding: 0.5rem 0;
    min-height: 1.875rem;
    line-height: 1.5;
    word-wrap: break-word;
    border-bottom: 1px solid #dddbda;
}

/* Ensure a visible line even when the field value is empty (renders an underline)
   This helps match the visual style of the Project ID fields above. */
.test-id__field-value:empty::after {
    content: "";
    display: block;
    width: 100%;
    height: 1px;
    background-color: #dddbda;
    margin-top: 0.5rem;
}

/* =========================
   GUTTERS (OPTIONAL SPACING)
   ========================= */
.slds-gutters {
    margin-left: -0.75rem;
    margin-right: -0.75rem;
}

.slds-gutters > .slds-col {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
}

.slds-wrap {
    flex-wrap: wrap;
}

/* Protocol panel styles */
.protocol-card { background: #fff; }
.legal-card { background: #fff; min-height: 320px; }
/* Default protocol spacing (keeps behavior for other tabs). */
.protocol-container { display: flex; gap: 1rem; align-items: stretch; }
.protocol-left { flex: 0 0 33%; }
.protocol-right { flex: 1 1 67%; }
/* Legal-tab specific overrides: keep milestone-box width but reduce gap only inside Legal tab */
.record-home-legal .protocol-container { gap: 0.5rem; }
.record-home-legal .protocol-left { flex: 0 0 316px; }
.record-home-legal .protocol-right { flex: 1 1 auto; margin-left: -64px !important; }
.milestone-box { border: 1px solid #e9ecef; border-radius: 8px; padding: 12px; background: #fbfbfc; min-height: 160px; width: 316px;}
.milestone-heading { font-weight: 600; color: #17324d; margin-bottom: 8px; font-size: 0.95rem; }

/* Overall Progress Badge */
.overall-progress-badge {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #f6f8fa;
    color: black;
    padding: 10px 14px;
    border-radius: 8px;
    margin-bottom: 12px;
    margin-top: 12px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);
}

.overall-label {
    font-weight: 600;
    font-size: 0.9rem;
    letter-spacing: 0.3px;
}

.overall-value {
    font-weight: 800;
    font-size: 1.1rem;
    background: rgba(255,255,255,0.25);
    padding: 4px 12px;
    border-radius: 999px;
    min-width: 58px;
    text-align: center;
}

.step-list { display: flex; flex-direction: column; gap: 8px; max-height: 500px; overflow-y: auto; }
.step-item { padding: 10px; border-radius: 6px; background: white; border: 1px solid #e6e9ee; cursor: pointer; transition: transform .12s ease, box-shadow .12s ease; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.step-item:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(19, 31, 51, 0.06); }
.step-item.active { background: linear-gradient(90deg,#eef6ff 0,#ffffff 100%); border-color: #b8d6ff; }
.step-info { display: flex; flex-direction: column; flex: 1; min-width: 0; }
.step-title { font-weight: 600; color: #0b3a66; margin-right: 8px; word-break: break-word; }
.step-value-block { display: flex; flex-direction: column; align-items: flex-end; gap: 2px; min-width: 140px; }
.step-cost-line { display: flex; align-items: center; gap: 6px; font-size: 0.78rem; font-weight: 600; color: #1f2d3d; }
.step-cost-line .step-value-label { text-transform: uppercase; letter-spacing: 0.5px; font-size: 0.68rem; color: #6c7a89; }
.step-cost-line .step-value-amount { font-size: 0.85rem; color: #0b3a66; }
.step-cost-line.muted { font-weight: 500; color: #5d6d7e; }
.step-cost-line.muted .step-value-label { text-transform: none; font-size: 0.72rem; }
.milestone-badge { background: linear-gradient(90deg,#2e7ce4,#2e9be4); color: #fff; padding: 4px 8px; border-radius: 999px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 2px 6px rgba(46,124,228,0.18); min-width: 48px; text-align: center; }

.protocol-grid-header h4 { margin: 0 0 8px 0; font-size: 1.05rem; color: #16325c; }

.protocol-grid-header { display: flex; justify-content: space-between; align-items: center; gap: 12px;  margin-bottom: 10px;}
.protocol-grid-header .header-right { display: flex; align-items: center; gap: 10px; }
.completed-label { display: inline-flex; align-items: center; gap: 6px; font-size: 13px; color: #22324a; }
.completed-label input[type="checkbox"] { width: 16px; height: 16px; accent-color: #28a745; }
.btn-add { background: #0176d3; color: #fff; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-weight: 600; }
.btn-add:hover { background: #0160b0; }

/* Modal styles for Add Activity */
.modal-overlay { position: fixed; inset: 0; background: rgba(10, 20, 30, 0.45); display: flex; align-items: center; justify-content: center; z-index: 2000; }
.modal-card { width: 560px; max-width: 95%; background: #fff; border-radius: 10px; box-shadow: 0 12px 40px rgba(8,16,28,0.25); overflow: hidden; }
.modal-header { padding: 16px 20px; border-bottom: 1px solid #eef1f4; }
.modal-header h3 { margin: 0; font-size: 1.05rem; color: #16325c; }
.modal-body { padding: 16px 20px; }
.form-row { display: flex; flex-direction: column; gap: 8px; margin-bottom: 12px; }
.form-row label { font-size: 13px; color: #5b6b7a; }
.form-row select, .form-row textarea { width: 100%; padding: 8px 10px; border: 1px solid #dde6ef; border-radius: 6px; font-size: 14px; }
.form-row textarea { min-height: 100px; resize: vertical; }
.modal-footer { padding: 12px 20px; border-top: 1px solid #eef1f4; display: flex; justify-content: flex-end; gap: 8px; }
.btn-light { background: #f3f3f3; border: 1px solid #ddd; color: #22324a; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
.btn-primary { background: #0176d3; color: #fff; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
.btn-primary:hover { background: #0160b0; }

/* New Activity Grid Styles (similar to healthSystems table) */
.protocol-grid-table-activities {
    display: flex;
    flex-direction: column;
    border: 1px solid #e6e9ee;
    border-radius: 6px;
    overflow: hidden;
    background: #fff;
}

.grid-header-activities {
    display: grid;
    grid-template-columns: 90px 60px 1fr 110px 110px 110px 110px 80px 160px;
    padding: 12px 14px;
    background: #f6f8fa;
    border-bottom: 1px solid #e6e9ee;
    font-weight: 700;
    color: #22324a;
    align-items: center;
    font-size: 13px;
}

.col-action {
    padding: 6px 10px;
    text-align: center;
}

.col-activity {
    padding: 6px 10px;
}

.grid-body-activities {
    display: block;
    max-height: 600px;
    overflow-y: auto;
}

.grid-row-activity {
    display: grid;
    grid-template-columns: 90px 60px 1fr 110px 110px 110px 110px 80px 160px;
    gap: 0;
    padding: 0;
    background: #fff;
    border-bottom: 1px solid #e9eef6;
    align-items: center;
    transition: background 0.12s ease;
}

.grid-row-activity:hover {
    background: #fbfdff;
}

.grid-row-activity .col-action {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    border-right: 1px solid rgba(14,20,28,0.04);
}

.grid-row-activity .col-action input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: #28a745;
    margin-top: 0;
}

.grid-row-activity .col-activity {
    padding: 12px 14px;
    font-size: 14px;
    color: #0b3a66;
    line-height: 1.6;
}

.col-last-updated {
    padding: 12px 14px;
    font-size: 13px;
    color: #5b6b7a;
    text-align: center;
    align-self: center;
}

/* Old protocol table styles (kept for Legal tab) */
.protocol-table { width: 100%; border-collapse: collapse; }
.protocol-table th, .protocol-table td { padding: 10px 12px; border-bottom: 1px solid #eef1f4; text-align: left; font-size: 0.95rem; }
.protocol-table thead th { background: #fafbfc; font-weight: 600; color: #3b4a5a; }

.protocol-grid-table { display: flex; flex-direction: column; border: 1px solid #e6e9ee; border-radius: 6px; overflow: hidden; }
.grid-header { display: grid; grid-template-columns: 1.6fr repeat(6, 1fr); padding: 0; background: #f6f8fa; border-bottom: 1px solid #e6e9ee; font-weight: 700; color: #22324a; align-items: center; }
.grid-header .col { /* make header cells mirror body cells so columns align exactly */
    display: flex;
    align-items: center;
    padding: 10px 12px; /* match .grid-row .col */
    font-size: 13px;
    box-sizing: border-box;
}
.grid-body { display: block; }
.grid-row { display: grid; grid-template-columns: 1.6fr repeat(6, 1fr); gap: 0; padding: 0; background: #fff; border-bottom: 1px solid #e9eef6; align-items: center; }
.grid-row .col { padding: 10px 12px; font-size: 14px; color: #0b3a66; border-right: 1px solid rgba(14,20,28,0.04); display: flex; align-items: center; box-sizing: border-box; }
.grid-row .col:last-child { border-right: none; }

/* Legal-specific grid (8 columns: Version, Status, Initiated By, HS, Sponsor, DX, Execute, Due Date) */
.legal-grid-header { grid-template-columns: 120px 90px 1fr 160px 160px 140px 80px 110px; }
.legal-grid-row { grid-template-columns: 120px 90px 1fr 160px 160px 140px 80px 110px; }

/* Ensure specific small columns don't collapse when content is long */
.legal-grid-row .col:first-child { min-width: 120px; }
.legal-grid-row .col:nth-child(2) { min-width: 90px; }
.legal-grid-row .execute-col { display:flex; align-items:center; justify-content:center; }
.legal-grid-row .col:last-child { text-align: right; }

/* Estimation tab styles */
.estimation-card {  background: #fff; }
.estimation-header-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
.estimation-header-item { background: #f6f8fb; border: 1px solid #e1e6ee; border-radius: 8px; padding: 12px 16px; }
.estimation-header-label { display: block; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: #6b7280; margin-bottom: 4px; }
.estimation-header-value { font-size: 1rem; font-weight: 600; color: #111827; }
.estimation-section { margin-bottom: 1.75rem; }
.estimation-section-header { display: flex; justify-content: space-between; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem; }
.estimation-section-title { font-size: 1rem; font-weight: 600; color: #1f2933; }
.estimation-add-btn { padding: 6px 14px; }
.estimation-table { width: 100%; border-collapse: collapse; }
.estimation-table th,
.estimation-table td { padding: 10px 12px; border: 1px solid #e1e6ef; font-size: 0.9rem; color: #1f2d3d; background: #fff; }
.estimation-table thead th { background: #f2f4f7; color: #293445; font-weight: 600; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.04em; }
.col-actions { width: 90px; text-align: center; }
.two-line-heading span { display: block; }
.two-line-heading small { display: block; font-size: 0.65rem; color: #7b8794; text-transform: uppercase; letter-spacing: 0.05em; }
.estimation-table th:not(:first-child),
.estimation-table td:not(:first-child) { text-align: right; }
.estimation-table th:nth-child(2) { text-align: left; }
.estimation-desc-cell { font-weight: 500; text-align: left !important; }
.estimation-actions-cell { text-align: center !important; white-space: nowrap; }
.estimation-actions-cell lightning-button-icon { margin: 0 2px; }
.estimation-subtotal td { background: #fdf6e3; font-weight: 600; border-color: #f0e1c1; }
.estimation-grand-total { display: flex; justify-content: space-between; align-items: center; background: #f0f9ff; border: 1px solid #c6e3ff; border-radius: 8px; padding: 12px 16px; margin-top: 0.5rem; }
.grand-total-label { font-weight: 700; color: #10324a; letter-spacing: 0.05em; }
.grand-total-values { display: flex; gap: 1.5rem; font-size: 1rem; font-weight: 700; color: #0f172a; }
.estimation-note { margin-top: 0.75rem; font-size: 0.85rem; color: #4b5563; font-style: italic; }
.invoice-section { margin-top: 1.5rem; border-top: 1px solid #e5e7eb; padding-top: 1.25rem; }
.invoice-header { display: flex; justify-content: space-between; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem; }
.invoice-title { font-size: 1rem; font-weight: 600; color: #1f2937; }
.invoice-table { width: 100%; border-collapse: collapse; margin-bottom: 0.75rem; }
.invoice-table th,
.invoice-table td { border: 1px solid #e1e6ef; padding: 10px 12px; font-size: 0.9rem; }
.invoice-table thead th { background: #f2f4f7; color: #1f2d3d; font-weight: 600; }
.invoice-table td:nth-child(3),
.invoice-table td:nth-child(4),
.invoice-table td:nth-child(5) { text-align: center; }
.invoice-footnote { font-size: 0.85rem; color: #4b5563; margin: 0.25rem 0; }

.progress-container { display:flex; align-items:center; gap:8px; }
.progress-native { width: 100%; height: 10px; appearance: none; -webkit-appearance: none; border-radius: 6px; overflow: hidden; }
.progress-native::-webkit-progress-bar { background: #f1f3f5; border-radius: 6px; }
.progress-native::-webkit-progress-value { background: linear-gradient(90deg,#2e7ce4,#2e9be4); border-radius: 6px; }
.progress-native::-moz-progress-bar { background: linear-gradient(90deg,#2e7ce4,#2e9be4); border-radius: 6px; }
.progress-label { font-size: 0.85rem; color: #445566; min-width: 38px; }

/* Table-based activities styles */
.activities-table { width: 100%; border-collapse: collapse; }
.activities-table thead th { background: #f6f8fa; padding: 10px 12px; font-weight: 700; color: #22324a; text-align: left; border-bottom: 1px solid #e6e9ee; }
.activities-table tbody td { padding: 10px 12px; border-bottom: 1px solid #e9eef6; vertical-align: middle; }
.activities-table tbody tr:hover { background: #fbfdff; }
.td-action { width: 90px; }
.td-select { width: 60px; text-align: center; }
.td-activity { color: #0b3a66; }
.progress-bar-outer { background:#f1f3f5;border-radius:6px;width:100%;height:10px;overflow:hidden; }
.progress-bar-inner { height: 10px; background: linear-gradient(90deg,#2e7ce4,#2e9be4); width: 0%; transition: width 520ms cubic-bezier(.2,.8,.2,1); }
.td-progress { width: 160px; }
.progress-container { display:flex; align-items:center; gap:8px; }
.progress-label { font-size: 0.85rem; color: #445566; min-width: 38px; }

/* Legal grid avatars */
.legal-grid-row .avatar-sm { width: 32px; height: 32px; border-radius: 50%; vertical-align: middle; margin-right: 8px; }
.legal-grid-row .col-label { margin-left: 6px; vertical-align: middle; color: #0b3a66; }
.execute-icon { color: #2e37a4; }
.execute-btn { background: transparent; border: none; cursor: pointer; padding: 6px; display: inline-flex; align-items: center; justify-content: center; }
.execute-btn:hover { background: rgba(46,55,164,0.06); border-radius: 6px; }

/* =========================
   MESSAGING TAB STYLES
   ========================= */
.messaging-container { display: flex; gap: 0; height: 650px; background: white; }
.messaging-chat-area { flex: 1; border-right: 1px solid #e0e0e0; display: flex; flex-direction: column; }
.messaging-contacts-area { width: 380px; background: #f5f6f8; display: flex; flex-direction: column; }

/* Chat area */
.messaging-chat-card { display: flex; flex-direction: column; height: 100%; }
.messaging-chat-header { padding: 16px 20px; border-bottom: 1px solid #e0e0e0; background: white; }
.messaging-chat-header .avatar { width: 40px; height: 40px; display: inline-block; }
.messaging-chat-header .avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
.messaging-contact-name { margin: 0; font-size: 14px; font-weight: 600; color: #333; }

.messaging-chat-body { flex: 1; padding: 20px; overflow-y: auto; background: #fafbfc; }
.messaging-chat-item { margin-bottom: 16px; }
.messaging-chat-item .avatar { width: 36px; height: 36px; display: inline-block; flex-shrink: 0; }
.messaging-chat-item .avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
.messaging-sender-name { font-size: 13px; font-weight: 600; color: #333; margin: 0 0 4px 0; }
.messaging-receive-message { background: #ffffff; border: 1px solid #e9ecef; border-radius: 12px; padding: 12px 16px; max-width: 70%; display: inline-block; }
.messaging-sent-message { background: #D9FDD3; border-radius: 12px; padding: 12px 16px; max-width: 70%; display: inline-block; }
.messaging-text { margin: 0; font-size: 15px; color: #333; line-height: 1.5; word-wrap: break-word; }

.messaging-chat-footer { padding: 16px 20px; border-top: 1px solid #e0e0e0; display: flex; align-items: center; gap: 12px; background: white; }
.messaging-input-wrapper { flex: 1; }
.messaging-input { width: 100%; padding: 10px 14px; border: 1px solid #dde6ef; border-radius: 6px; font-size: 14px; color: #333; }
.messaging-input:focus { outline: none; border-color: #0176d3; }
.messaging-actions { display: flex;  align-items: center; gap: 10px; }
.attachment-btn {
    cursor: pointer;
}
.btn-send-messaging { background: #0176d3; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer; }
.btn-send-messaging:hover { background: #0160b0; }

/* Contacts area */
.messaging-contacts-header { padding: 16px 20px; border-bottom: 1px solid #e0e0e0; }
.messaging-tabs { display: flex;  justify-content: center;gap: 8px; }
.messaging-tabs button { padding: 8px 16px; font-size: 13px; font-weight: 600; cursor: pointer; border-radius: 6px; border: 1px solid #0176d3; transition: all 0.2s; }
.messaging-tabs .btn-primary { background: #0176d3; color: white; }
.messaging-tabs .btn-outline-primary { background: transparent; color: #0176d3; }
.messaging-tabs .btn-outline-primary:hover { background: rgba(1,118,211,0.1); }

.messaging-contacts-search { padding: 16px 20px 0; }
.messaging-search-input { width: 100%; padding: 10px 14px 10px 36px; border: 1px solid #dde6ef; border-radius: 6px; font-size: 14px; background: white url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"%23666\" stroke-width=\"2\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><path d=\"m21 21-4.35-4.35\"/></svg>') no-repeat 10px center; }

.messaging-contacts-list { flex: 1; padding: 24px; overflow-y: auto; }
.messaging-contacts-title { font-size: 14px; font-weight: 600; color: #333; margin: 0 0 16px 0; }

.messaging-contact-item { 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    padding: 12px; 
    border-radius: 6px; 
    cursor: pointer; 
    transition: all 0.2s ease; 
    margin-bottom: 4px;
    background: transparent;
}
.messaging-contact-item:hover { 
    background: rgba(1, 118, 211, 0.08); 
}
.messaging-contact-item.active { 
    background: #fff; 
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}
.messaging-contact-item .avatar { 
    width: 40px; 
    height: 40px; 
    flex-shrink: 0; 
    margin-right: 12px;
}
.messaging-contact-item .avatar img { 
    width: 100%; 
    height: 100%; 
    border-radius: 50%; 
    object-fit: cover; 
    border: 2px solid #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.messaging-contact-info { 
    flex: 1; 
    min-width: 0;
}
.messaging-contact-item-name { 
    font-size: 14px; 
    font-weight: 600; 
    color: #333; 
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.messaging-unread-badge { 
    background: #dc3545; 
    color: white; 
    border-radius: 50%; 
    min-width: 22px;
    height: 22px; 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
    font-size: 11px; 
    font-weight: 600; 
    padding: 0 6px;
    flex-shrink: 0;
}

/* Utility classes for messaging */
.messaging-container .d-flex { display: flex; }
.messaging-container .align-items-center { align-items: center; }
.messaging-container .align-items-start { align-items: flex-start; }
.messaging-container .justify-content-end { justify-content: flex-end; }
.messaging-container .me-2 { margin-right: 8px; }
.messaging-container .ms-2 { margin-left: 8px; }
.messaging-container .mb-1 { margin-bottom: 4px; }

@media (max-width: 900px) {
    .protocol-container { flex-direction: column; }
    .protocol-left { flex: 0 0 auto; }
}

/* =====================================
   HS Matches & Messaging Tab Styles
   ===================================== */

.hs-matches-wrapper {
    padding: 20px;
}

.hs-three-columns {
    display: flex;
    gap: 20px;
    height: 650px;
}

/* LEFT PANEL - Top 10 HS Matches (like Top 5 Specialities) */
.hs-left-panel {
    flex: 0 0 300px;
}

.hs-panel-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
}

.hs-panel-header {
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
}

.hs-panel-header h5 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
}

.hs-panel-body {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

/* Hide native scrollbars by default and show subtle scrollbar on hover or when focused
   This keeps the UI clean but provides a visible scrollbar when the user interacts
   with the scrollable area. Works for WebKit browsers and Firefox (best-effort). */
.hs-panel-body,
.chat-body {
    /* keep existing behaviour */
    overflow-y: auto;
    /* Firefox: hide scrollbar by default */
    scrollbar-width: none; /* none | auto | thin */
    /* IE 10+ */
    -ms-overflow-style: none;
}

/* WebKit browsers: remove scrollbar by default */
.hs-panel-body::-webkit-scrollbar,
.chat-body::-webkit-scrollbar {
    width: 0px;
    height: 0px;
}

/* Show a thin scrollbar when hovering or when the element has keyboard focus */
.hs-panel-body:hover,
.hs-panel-body:focus-within,
.hs-panel-body.scrolling,
.chat-body:hover,
.chat-body:focus-within,
.chat-body.scrolling {
    scrollbar-width: thin; /* Firefox */
}

/* WebKit: set scrollbar size when active/scrolling */
.hs-panel-body:hover::-webkit-scrollbar,
.hs-panel-body:focus-within::-webkit-scrollbar,
.hs-panel-body.scrolling::-webkit-scrollbar,
.chat-body:hover::-webkit-scrollbar,
.chat-body:focus-within::-webkit-scrollbar,
.chat-body.scrolling::-webkit-scrollbar {
    width: 8px;
}

.hs-panel-body:hover::-webkit-scrollbar-track,
.hs-panel-body:focus-within::-webkit-scrollbar-track,
.hs-panel-body.scrolling::-webkit-scrollbar-track,
.chat-body:hover::-webkit-scrollbar-track,
.chat-body:focus-within::-webkit-scrollbar-track,
.chat-body.scrolling::-webkit-scrollbar-track {
    background: transparent;
}

/* Lighter thumb color when visible (requested: 'a bit lighter in color') */
.hs-panel-body:hover::-webkit-scrollbar-thumb,
.hs-panel-body:focus-within::-webkit-scrollbar-thumb,
.hs-panel-body.scrolling::-webkit-scrollbar-thumb,
.chat-body:hover::-webkit-scrollbar-thumb,
.chat-body:focus-within::-webkit-scrollbar-thumb,
.chat-body.scrolling::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.12);
    border-radius: 6px;
}

/* HS Match Items (Dashboard style) */
.hs-match-item {
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: #f9f9f9;
    border: 1px solid transparent;
}

.hs-match-item:hover {
    background: #f0f0f0;
    border-color: #ddd;
}

.hs-match-item.active {
    background: #e8f4fd;
    border-color: #0176d3;
}

.hs-match-item .avatar {
    width: 40px;
    height: 40px;
    display: inline-block;
}

.hs-match-item .avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.hs-match-item .flex-grow-1 {
    flex: 1;
    min-width: 0;
}

.hs-match-item h6 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
    color: #333;
}

.hs-match-item p {
    font-size: 12px;
    color: #888;
    margin: 0;
}

.hs-match-item .badge {
    font-size: 12px;
    padding: 4px 10px;
}

/* MIDDLE PANEL - Capabilities with Dropdowns */
.hs-middle-panel {
    flex: 1;
}

.capabilities-scroll {
    max-height: calc(650px - 80px);
}

.capability-dropdown-section {
    margin-bottom: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
}

.capability-dropdown-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 14px 16px;
        background: #ffffff;
    border-color: #0176d3;
    color: #333;
    cursor: pointer;
    transition: all 0.3s ease;
    user-select: none;
}

.capability-dropdown-header:hover {
    background: #b8d3eb;
}

/* When a dropdown is open, keep its header color fixed to the requested color */
.capability-dropdown-header.open {
    background: #cfe2ff; /* requested color when opened */
    border-color: #cfe2ff;
}

.capability-dropdown-header .dropdown-icon {
    font-size: 18px;
}

.capability-dropdown-header .dropdown-title {
    flex: 1;
    font-size: 15px;
    font-weight: 600;
}

.capability-dropdown-header .dropdown-arrow {
    font-size: 12px;
    transition: transform 0.3s ease;
}

.capability-dropdown-header .dropdown-arrow.open {
    transform: rotate(180deg);
}

.capability-dropdown-body {
    background: white;
}


.capability-grid-header {
    display: grid;
    grid-template-columns: 1.6fr repeat(6, 1fr);
    padding: 12px 14px;
    background: #f6f8fa;
    font-weight: 700;
    font-size: 13px;
    color: #22324a;
    border-bottom: 1px solid #e6e9ee;
    align-items: center;
}

.capability-grid-row {
    display: grid;
    grid-template-columns: 1.6fr repeat(6, 1fr);
    gap: 0;
    padding: 0;
    border-bottom: 1px solid #e9eef6;
    transition: background 0.12s ease;
}

.capability-grid-row:hover {
    background: #fbfdff;
}

/* Make group header rows stand out (like pivot table group totals) */
.capability-group-row {
    background: #f8f9fa; /* lighter group background similar to HS table */
    font-weight: 700;
    color: #0b3a66;
}

/* Make child item rows slightly indented and lighter */
.capability-item-row {
    background: #ffffff;
    color: #22324a;
    padding: 10px 16px;
}

/* Indent category column for item rows */
.capability-item-row .col:nth-child(1) {
    padding-left: 28px; /* visual indent under the group */
}

/* Style the group toggle button to align with the design */
.group-toggle {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: transparent;
    border: none;
    padding: 6px 8px;
    font-size: 0.975rem;
    cursor: pointer;
}
.group-toggle:focus { outline: 2px solid rgba(1,118,211,0.15); border-radius: 4px; }
.toggle-icon { font-size: 14px; color: #0b3a66; }
.group-title { font-weight: 400; }

/* Right-align numeric columns and make totals bolder */
.capability-grid-table .grid-row .col:nth-child(3),
.capability-grid-table .grid-row .col:nth-child(4),
.capability-grid-table .grid-row .col:nth-child(5),
.capability-grid-table .grid-row .col:nth-child(6),
.capability-grid-table .grid-row .col:nth-child(7) {
    text-align: right;
}
.capability-group-row .col:nth-child(3),
.capability-group-row .col:nth-child(4),
.capability-group-row .col:nth-child(5),
.capability-group-row .col:nth-child(6),
.capability-group-row .col:nth-child(7) {
    font-weight: 800;
}

/* Subtle striping for item rows to improve scanability */
.capability-grid-table .capability-item-row:nth-of-type(2n) {
    background: #fbfcfd;
}

/* Thin vertical separators to emulate pivot columns */
.capability-grid-table .capability-grid-header .col,
.capability-grid-table .grid-row .col {
    border-right: 1px solid rgba(14, 20, 28, 0.03);
}
.capability-grid-table .capability-grid-header .col:last-child,
.capability-grid-table .grid-row .col:last-child {
    border-right: none;
}

/* Make header slightly taller and align text */
.capability-grid-header { padding: 14px 16px; font-size: 13px; }


.cap-col-label {
    font-size: 13px;
    color: #333;
}

.cap-col-checkbox {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Blue checkboxes */
.blue-checkbox {
    width: 18px;
    height: 18px;
    cursor: not-allowed;
    /* light blue accent to match capability header / image reference */
    accent-color: #c9dff4;
    border: 1px solid #c9dff433;
    border-radius: 4px;
}

.blue-checkbox:checked {
    accent-color: #1f92ff;
    /* some browsers reflect accent-color; add a matching border when checked */
    border-color: #c9dff4;
    background-color: #c9dff4;
}

/* Checkboxes for capability table - green only when BOTH hs AND projectNeeds are true */
.capability-item-row input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: not-allowed;
    accent-color: #9aa0a6; /* default gray */
    border-radius: 4px;
}

/* Green checkboxes when both projectNeeds and hs are true */
.capability-item-row input[type="checkbox"][data-both="true"][data-hs="true"]:checked {
    accent-color: #28a745;
    background-color: #28a745;
    border-color: #28a745;
}

/* Ensure gray for all other cases (even when checked) */
.capability-item-row input[type="checkbox"]:checked {
    accent-color: #9aa0a6;
    background-color: #d1d5d8;
    border-color: #cfcfcf;
}

/* Override with green when BOTH are true - this must come after the gray rule */
.capability-item-row input[type="checkbox"][data-both="true"][data-hs="true"]:checked {
    accent-color: #28a745 !important;
    background-color: #28a745 !important;
    border-color: #28a745 !important;
}

/* Old styles kept for compatibility */
.capability-table .chk {
    width: 18px;
    height: 18px;
    cursor: not-allowed;
    accent-color: #28a745; /* modern browsers */
}

/* Explicit states driven by JS classes:
   - .checked-both: both HS and ProjectNeeds true -> green filled checkbox with visible tick
   - .checked-single: only one true -> neutral/gray appearance
   We use accent-color when supported and provide background/border fallbacks for browsers
*/
.capability-table .chk.checked-both {
    accent-color: #28a745;
    border-radius: 4px;
    /* keep native appearance so the tick shows where supported */
    appearance: auto;
    -webkit-appearance: checkbox;
}
.capability-table .chk.checked-both:checked {
    /* ensure a green background in case the browser doesn't show accent-color */
    background-color: #28a745;
    border-color: #28a745;
}

.capability-table .chk.checked-single {
    accent-color: #9aa0a6; /* gray tick where supported */
    border-radius: 4px;
    appearance: auto;
    -webkit-appearance: checkbox;
}
.capability-table .chk.checked-single:checked {
    background-color: #d1d5d8; /* light gray fill as fallback */
    border-color: #cfcfcf;
}

/* Highlight group row when any flag is present */
/* .group-has-flag td {
    background-color: #eaf8ee;
} */

/* RIGHT PANEL - Messaging (Angular DX style) */
.hs-right-panel {
    flex: 0 0 350px;
}

.chat-card {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.chat-header {
    padding: 15px 20px;
    border-bottom: 1px solid #e0e0e0;
}

.chat-header .avatar {
    width: 36px;
    height: 36px;
    display: inline-block;
}

.chat-header .avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.chat-header h6 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: #333;
}

.chat-tabs-buttons {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    width: 300px;
    margin-left: 24px;
}

.chat-tabs-buttons button {
    flex: 1;
    padding: 6px 12px;
    font-size: 12px;
    border-radius: 6px;
    border: 1px solid #0176d3;
    transition: all 0.3s ease;
    font-weight: 500;
}

.chat-body {
    flex: 1 1 auto;
    padding: 15px;
    overflow-y: auto;
    background: #f5f6f8;
    /* remove fixed max-height so body grows to fill available space
       and avoid leaving white gap above the footer */
    max-height: none;
}

.chat-list {
    margin-bottom: 15px;
}

.chat-list .avatar {
    width: 32px;
    height: 32px;
    display: inline-block;
}

.chat-list .avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.chat-list h6 {
    margin: 0 0 6px 0;
    font-size: 13px;
    font-weight: 600;
    color: #333;
}

.message-box {
    padding: 10px 14px;
    border-radius: 12px;
    font-size: 14px;
    line-height: 1.4;
    max-width: 250px;
    word-wrap: break-word;
}

.message-box.receive-message {
    background: white;
    color: #333;
    border: 1px solid #e0e0e0;
    border-bottom-left-radius: 4px;
}

.message-box.sent-message {
    background: white;
    color: #333;
    border: 1px solid #e0e0e0;
    border-bottom-right-radius: 4px;
}

.message-box p {
    margin: 0;
}

.chat-footer {
    padding: 15px 20px;
    border-top: 1px solid #e0e0e0;
    background: white;
    display: flex;
    align-items: center;
    gap: 10px;
}

.chat-footer .flex-fill {
    flex: 1;
}

.chat-footer input.form-control {
    padding: 10px;
    font-size: 13px;
    border: 1px solid #ddd;
    border-radius: 8px;
    outline: none;
}

.chat-footer input.form-control:focus {
    border-color: #0176d3;
}

.chat-footer .btn-send {
    padding: 10px 20px;
    background: #0176d3;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 13px;
    font-weight: 500;
    min-width: 70px;
}

.chat-footer .btn-send:hover {
    background: #0159a8;
    transform: translateY(-2px);
}

.chat-footer .btn-icon {
    padding: 8px 12px;
    background: #0176d3;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.chat-footer .btn-icon:hover {
    background: #0159a8;
    transform: translateY(-2px);
}

/* Utility Classes */
.d-flex {
    display: flex;
}

.align-items-center {
    align-items: center;
}

.justify-content-between {
    justify-content: space-between;
}

.justify-content-end {
    justify-content: flex-end;
}

.align-items-start {
    align-items: flex-start;
}

.mb-0 {
    margin-bottom: 0;
}

.mb-1 {
    margin-bottom: 4px;
}

.mb-3 {
    margin-bottom: 12px;
}

.me-2 {
    margin-right: 8px;
}

.ms-2 {
    margin-left: 8px;
}

.ms-auto {
    margin-left: auto;
}

.flex-shrink-0 {
    flex-shrink: 0;
}

.flex-grow-1 {
    flex-grow: 1;
}

.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.rounded-circle {
    border-radius: 50%;
}

.fw-bold {
    font-weight: 700;
}

.fw-semibold {
    font-weight: 600;
}

.fw-medium {
    font-weight: 500;
}

.fs-14 {
    font-size: 14px;
}

.fs-13 {
    font-size: 13px;
}

.fs-16 {
    font-size: 16px;
}

.bg-success {
    background-color: #28a745;
}

.badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    color: white;
}

.btn {
    padding: 8px 16px;
    font-size: 13px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary {
    background: #0176d3;
    color: white;
    border: 1px solid #0176d3;
}

.btn-outline-primary {
    background: white;
    color: #0176d3;
    border: 1px solid #0176d3;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
}

.btn-light {
    background: #f3f3f3;
    border: 1px solid #ddd;
}

.gap-2 {
    gap: 8px;
}

/* Styles for Requirements cards background variants */
.req-body {
    padding: 10px;
}

.req-body--blue {
    background-color: #e6f7ff;
}

.req-body--yellow {
    background-color: #fffce4;
}

.req-body table th,
.req-body table td {
    color: #333;
    border-top: 1px solid #eee;
}

.req-body table th {
    font-weight: 600;
}

.value-cell {

    padding:8px 12px; border-top:1px solid #eee; border-left:1px solid #eee; color:#0b4a6f; display:flex; justify-content:space-between; align-items:center;
}

/* Prevent header and cell contents from wrapping for date/ETA columns in the Tasks/Activities table */
.activities-table thead th:nth-child(4),
.activities-table thead th:nth-child(5),
.activities-table thead th:nth-child(6),
.activities-table thead th:nth-child(7),
.activities-table thead th:nth-child(8),
.activities-table tbody td.td-plan-date,
.activities-table tbody td.td-actual-date,
.activities-table tbody td.td-plan-finish,
.activities-table tbody td.td-actual-finish,
.activities-table tbody td.td-eta {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* If the column still appears too narrow, consider increasing the select width or reducing padding */
.td-select { width: 64px; }

/* OVERVIEW WRAPPER - Add padding left and right */
.custom-overview-wrapper {
    padding: 1.5rem 2rem;
    background: #f8fafc;
}

/* ROW CONTAINER */
.custom-tables-row {
    display: flex;
    gap: 2rem;
    width: 100%;
}

/* SECTION LABEL (Table headings) */
.custom-section-label {
    margin-top: 5px;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1e3a5f;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    margin-left: 15px;
    border-bottom: 2px solid #3b82f6;
    display: inline-block;
}

/* EACH TABLE COLUMN - Custom widths for different tables */
.custom-table-container {
    min-width: 0;
    background: #ffffff;
    border-radius: 8px;
    padding: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 2px solid #e2e8f0;
    overflow: hidden;
}

/* First table (Trial Preparation) - more width with 3 columns */
.custom-table-container:nth-child(1) {
    flex: 3;
}

/* Second table (Trial Execution) - medium width with 2 columns */
.custom-table-container:nth-child(2) {
    flex: 2;
}

/* Third table (Trial Close) - less width with 1 column */
.custom-table-container:nth-child(3) {
    flex: 1;
    max-width: 320px;
}

/* COLUMN HEADERS */
.custom-columns-header {
    display: flex;
    gap: 0;
    margin-bottom: 0;
    border-bottom: 1px solid #e2e8f0;
    background: #f8fafc;
}

.custom-column-header {
    flex: 1;
    background: linear-gradient(135deg, #1e3a5f 0%, #1e3a5f 100%);
    color: #ffffff;
    padding: 14px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 13px;
    border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.custom-column-header:last-child {
    border-right: none;
}

/* CARDS GRID */
.custom-cards-grid {
    display: grid;
    gap: 4px;
    padding: 8px;
    background: #f8fafc;
}

/* Grid column variants */
.custom-cards-grid-1 {
    display: grid;
    gap: 4px;
    padding: 8px;
    background: #f8fafc;
    grid-template-columns: repeat(1, 1fr);
}

.custom-cards-grid-2 {
    display: grid;
    gap: 4px;
    padding: 8px;
    background: #f8fafc;
    grid-template-columns: repeat(2, 1fr);
}

.custom-cards-grid-3 {
    display: grid;
    gap: 4px;
    padding: 8px;
    background: #f8fafc;
    grid-template-columns: repeat(3, 1fr);
}

/* CARD BASE STYLES - Button-like appearance */
.custom-card {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 40px;
    background: #ffffff;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.custom-card:hover {
    background: #f9fafb;
    border-color: #9ca3af;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
}

.custom-card:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Status Circle Base - Smaller circles with white tick */
.status-circle {
    width: 18px;
    height: 18px;
    min-width: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* Check icon - white for all circles */
.check-icon {
    width: 10px;
    height: 10px;
    fill: #ffffff;
}

/* Status Circle - Complete (Green with white tick) */
.status-circle-complete {
    background: #22c55e;
    border-color: #16a34a;
}

/* Status Circle - In Progress (Blue with white tick) */
.status-circle-progress {
    background: #3b82f6;
    border-color: #2563eb;
}

/* Status Circle - Pending (Gray with white tick) */
.status-circle-pending {
    background: #9ca3af;
    border-color: #6b7280;
}

/* Card Number */
.card-number {
    font-size: 12px;
    font-weight: 700;
    color: #374151;
    white-space: nowrap;
}

/* Status Badge Styles */
.status-badge {
    font-size: 10px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 8px;
    white-space: nowrap;
    margin-left: auto;
}

.status-badge-complete {
    
    color: #166534;
}

.status-badge-progress {
    
    color: #1e40af;
}

.status-badge-pending {
    
    color: #64748b;
}

/* Card Color Variants - Button-like styling */
.custom-card-complete {
    background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
    border-color: #bbf7d0;
}

.custom-card-complete:hover {
    background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
    border-color: #86efac;
}

.custom-card-progress {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #bfdbfe;
}

.custom-card-progress:hover {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border-color: #93c5fd;
}

.custom-card-pending {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-color: #e2e8f0;
}

.custom-card-pending:hover {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-color: #cbd5e1;
}

/* Hidden/Placeholder Card */
.card-placeholder {
    visibility: hidden;
    min-height: 40px;
    border: 1px solid transparent;
    border-radius: 6px;
}

/* Tooltip styling for cards */
.custom-card[title]:hover::after {
    content: attr(title);
    position: absolute;
    left: 50%;
    bottom: calc(100% + 10px);
    transform: translateX(-50%);
    background-color: rgba(15, 23, 42, 0.95);
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    white-space: normal;
    width: 250px;
    max-width: 85vw;
    font-size: 11px;
    font-weight: 400;
    line-height: 1.4;
    text-align: left;
    z-index: 1000;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    pointer-events: none;
}

.custom-card[title]:hover::before {
    content: '';
    position: absolute;
    left: 50%;
    bottom: calc(100% + 4px);
    transform: translateX(-50%);
    border: 5px solid transparent;
    border-top-color: rgba(15, 23, 42, 0.95);
    z-index: 1001;
    pointer-events: none;
}

/* Keep position relative for tooltips */
.custom-card {
    position: relative;
}

/* OPTIONAL: STACK ON SMALL SCREENS */
@media (max-width: 1024px) {
    .custom-tables-row {
        flex-direction: column;
    }
    
    .custom-table-container:nth-child(3) {
        max-width: none;
    }
    
    .custom-table-container:nth-child(1),
    .custom-table-container:nth-child(2),
    .custom-table-container:nth-child(3) {
        flex: 1;
    }
}

/* =========================
   NOTES TAB STYLES
   ========================= */

/* Notes Add Card */
.notes-add-card {
    border-radius: 0.5rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    border: 2px solid #ddd;
}

.notes-add-card .slds-card__body {
    padding: 1.5rem;
}

/* Large Action Buttons */
.large-action-btn {
    min-width: 48px;
    min-height: 48px;
}

/* AI Overview Enhanced Styles */
.ai-overview-card {
    border-radius: 0.75rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 2px solid #e0e0e0;
    background-color: #ffffff;
}

.ai-overview-content {
    padding: 1rem;
}

.ai-header-section {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
    padding-bottom: 0rem;
    
}

.ai-overview-icon {
    color: #FFD700;
    background: transparent;
    border-radius: 50%;
    padding: 0.75rem;
}

.ai-overview-title {
    font-weight: 400;
    font-size: 2.25rem;
    color: #000000;
    margin: 0;
}

.ai-content-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.ai-summary-text {
    line-height: 1.7;
    color: #000000;
    font-size: 1rem;
}

.ai-summary-text p {
    margin-bottom: 1rem;
    text-align: justify;
    color: #000000;
}

.ai-action-section {
    display: flex;
    justify-content: flex-start;
    padding-top: 0.5rem;
    margin-top: -27px;
}

.ai-more-text {
    color: #5C5C66;
    text-decoration: underline;
    cursor: pointer;
    font-weight: 600;
    padding: 0.5rem 0;
    transition: all 0.2s ease;
}

.ai-more-text:hover {
    color: #4a4a54;
    text-decoration: none;
}

/* Filter Action Buttons */
.filter-action-btn {
    margin-left: 0.25rem;
    min-width: 40px;
    min-height: 40px;
}

.slds-button-group .filter-action-btn:first-child {
    margin-left: 0;
}

/* Enhanced Notes Table Styles */
.notes-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.table-header {
    background-color: #EBEBEB;
    color: #666666;
    font-weight: 600;
    padding: 1rem 0.75rem;
    border: 1px solid #ddd;
    text-align: left;
    font-size: 0.875rem;
    letter-spacing: 0.5px;
    position: relative;
}

.table-header:not(:last-child)::after {
    content: '';
    position: absolute;
    right: 0;
    top: 20%;
    bottom: 20%;
    width: 1px;
    background: #ccc;
}

.table-row {
    transition: all 0.2s ease;
}

.table-row:hover {
    background: #f8f9fa;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.table-cell {
    padding: 1rem 0.75rem;
    border-right: 1px solid #dee2e6;
    border-bottom: 1px solid #dee2e6;
    vertical-align: top;
    background: white;
    transition: all 0.2s ease;
}

.table-cell:last-child {
    border-right: none;
}

.word-wrap {
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 300px;
    line-height: 1.5;
}

/* Document View Link */
.document-view-link {
    color: #0176d3;
    text-decoration: none;
    font-weight: 600;
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    transition: all 0.2s ease;
    display: inline-block;
}

.document-view-link:hover {
    color: #014486;
    background: #e3f2fd;
    text-decoration: underline;
}

.no-document {
    color: #999;
    font-style: italic;
}

/* Enhanced Visibility Column Styles */
.visibility-header {
    position: relative;
    text-align: center;
    min-width: 140px;
    padding: 0 !important;
    background-color: #EBEBEB;
    border: 1px solid #ddd;
}

.visibility-main-header {
    font-weight: 600;
    padding: 0.75rem;
    color: #666666;
    border-bottom: 1px solid #ccc;
    font-size: 0.875rem;
}

.visibility-sub-headers {
    display: flex;
}

.visibility-sub-header {
    flex: 1;
    padding: 0.5rem;
    font-weight: 600;
    font-size: 0.8rem;
    background-color: #EBEBEB;
    color: #666666;
    border-right: 1px solid #ccc;
    text-align: center;
}

.visibility-sub-header:last-child {
    border-right: none;
}

.visibility-cell {
    padding: 0 !important;
    border-right: 1px solid #dee2e6;
}

.visibility-checkboxes {
    display: flex;
    height: 100%;
}

.visibility-checkbox-wrapper {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    border-right: 1px solid #dee2e6;
    min-height: 70px;
    background: white;
    transition: background 0.2s ease;
}

.visibility-checkbox-wrapper:hover {
    background: #f0f8ff;
}

.visibility-checkbox-wrapper:last-child {
    border-right: none;
}

.visibility-checkbox {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: #0176d3;
    transform: scale(1.2);
    border: 2px solid #ccc;
    border-radius: 3px;
}

.visibility-checkbox:checked {
    background-color: #0176d3;
    border-color: #0176d3;
}

/* Notes Cards Styling */
.notes-card {
    border-radius: 0.75rem;
    overflow: hidden;
    
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Custom Table Wrapper */
.custom-table-wrapper {
    overflow-x: auto;
    border-radius: 0.5rem;
    border: 2px solid #dee2e6;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Responsive Table */
@media (max-width: 768px) {
    .notes-table,
    .notes-table thead,
    .notes-table tbody,
    .notes-table th,
    .notes-table td,
    .notes-table tr {
        display: block;
    }
    
    .notes-table thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
    }
    
    .notes-table tr {
        border: 2px solid #ccc;
        margin-bottom: 15px;
        padding: 15px;
        border-radius: 0.75rem;
        background: white;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .notes-table td {
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 35% !important;
        padding-top: 15px;
        padding-bottom: 15px;
    }
    
    .notes-table td:before {
        content: attr(data-label) ": ";
        position: absolute;
        left: 10px;
        width: 30%;
        padding-right: 15px;
        white-space: nowrap;
        font-weight: bold;
        color: #333;
        font-size: 0.875rem;
    }
    
    .visibility-checkboxes {
        flex-direction: row;
        justify-content: flex-start;
        gap: 25px;
    }
    
    .visibility-checkbox-wrapper {
        border: none;
        padding: 8px;
        min-height: auto;
    }
    
    .visibility-checkbox-wrapper:before {
        content: attr(data-label);
        margin-right: 8px;
        font-size: 0.875rem;
        color: #666;
        font-weight: 500;
    }
    
    .ai-header-section {
        flex-direction: column;
        text-align: center;
        gap: 0.75rem;
    }
    
    .ai-overview-title {
        font-size: 1.1rem;
    }
}

/* =========================
   NOTES TAB STYLES
   ========================= */

.notes-card {
    background: #ffffff;
    border-radius: 0.25rem;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.1);
}

.notes-add-card {
    background: #f8f9fa;
    border: 1px solid #dddbda;
    margin-bottom: 1rem;
}

.ai-icon {
    vertical-align: middle;
    margin-right: 0.75rem;
}

.ai-content {
    background: #f3f2f2;
    padding: 1rem;
    border-radius: 0.25rem;
    border-left: 4px solid #1589ee;
}

.filter-panel {
    background: #f8f9fa;
    border: 1px solid #dddbda;
}

.notes-table {
    border-collapse: collapse;
    width: 100%;
}

.notes-table th {
    background-color: #706e6b;
    color: white;
    padding: 0.75rem;
    text-align: left;
    font-weight: bold;
    position: sticky;
    top: 0;
    z-index: 1000;
}

.notes-table td {
    padding: 0.75rem;
    border-bottom: 1px solid #dddbda;
    vertical-align: top;
}

.notes-table .slds-cell-wrap {
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.notes-tag {
    display: inline-block;
    margin-right: 0.25rem;
    margin-bottom: 0.25rem;
}

.table-container {
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid #dddbda;
    border-radius: 0.25rem;
}

.custom-table-wrapper {
    max-height: 400px;
    overflow-y: auto;
    position: relative;
}

.word-wrap {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

.tag-button {
    color: white;
    min-width: 120px;
    text-align: center;
    padding: 5px;
    margin: 2px;
    border-radius: 4px;
    font-size: 12px;
}

/* Tag color variations */
.notes-tag[data-variant="emergency"] {
    background-color: #c23934;
    color: white;
}

.notes-tag[data-variant="expedite"] {
    background-color: #04844b;
    color: white;
}

.notes-tag[data-variant="delayed"] {
    background-color: #b1ca40;
    color: white;
}

.notes-tag[data-variant="hypertension"] {
    background-color: #ff9800;
    color: white;
}

.notes-tag[data-variant="diabetic"] {
    background-color: #9c27b0;
    color: white;
}

/* Responsive table */
@media (max-width: 768px) {
    .notes-table,
    .notes-table thead,
    .notes-table tbody,
    .notes-table th,
    .notes-table td,
    .notes-table tr {
        display: block;
    }

    .notes-table thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
    }

    .notes-table tr {
        border: 1px solid #dddbda;
        margin-bottom: 0.5rem;
        border-radius: 0.25rem;
        padding: 0.5rem;
    }

    .notes-table td {
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 50% !important;
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
    }

    .notes-table td:before {
        content: attr(data-label) ": ";
        position: absolute;
        left: 6px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        font-weight: bold;
        color: #706e6b;
    }
}

/* Filter toggle animation */
.filter-panel {
    animation: slideDown 0.3s ease-in-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* AI Overview styling */
.ai-content p {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

.ai-content p:last-of-type {
    margin-bottom: 0;
}

/* Notes form styling */
.notes-add-card .slds-grid {
    align-items: end;
}

.notes-add-card lightning-input,
.notes-add-card lightning-combobox {
    width: 100%;
}

/* Datatable customization */
.notes-card .slds-table {
    font-size: 0.875rem;
}

.notes-card .slds-table th {
    background-color: #706e6b;
    color: white;
    border-color: #5c5a57;
}

.notes-card .slds-table td {
    border-color: #dddbda;
}

/* Button group alignment */
.slds-grid.slds-gutters_small .slds-col {
    display: flex;
    align-items: center;
}

/* =========================
   INTAKE TAB STYLES
   ========================= */
.intake-wrapper {
    padding: 0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    background: #f8fafc;
}

/* Header Section */
.intake-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 32px;
    margin-right: 365px;
}

.intake-header-left {
    display: flex;
    align-items: center;
    gap: 16px;
}

.intake-header-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.intake-header-icon lightning-icon {
    --slds-c-icon-color-foreground-default: #ffffff;
}

.intake-header-text {
    display: flex;
    flex-direction: column;
}

.intake-header-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1e293b;
    margin: 0;
}

.intake-header-subtitle {
    font-size: 0.875rem;
    color: #64748b;
    margin: 4px 0 0 0;
}

.btn-send-questionnaire {
    display: flex;
    align-items: center;
    gap: 8px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: #ffffff;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-send-questionnaire:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.btn-send-questionnaire lightning-icon {
    --slds-c-icon-color-foreground-default: #ffffff;
}

/* Status Indicators */
.intake-status-active,
.intake-status-completed {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.intake-status-active lightning-icon,
.intake-status-completed lightning-icon {
    --slds-c-icon-color-foreground-default: #ffffff;
}

.intake-status-pending {
    width: 24px;
    height: 24px;
    background: #e2e8f0;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.intake-status-pending lightning-icon {
    --slds-c-icon-color-foreground-default: #94a3b8;
}

.intake-container {
    display: flex;
    min-height: 650px;
    
}

/* Left Navigation */
.intake-left-nav {
    width: 20%;
    min-width: 300px;
    background: #ffffff;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border-radius: 5px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid #e2e8f0;
    height: fit-content;
    max-height: calc(100vh - 160px);
    padding: 12px;
    margin-left: 23px;
    margin-top:36px;
}

.intake-nav-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 18px 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-bottom: none;
}

.intake-nav-header h3 {
    font-size: 1.05rem;
    font-weight: 700;
    color: #ffffff;
    letter-spacing: 0.5px;
    margin: 0;
}

.intake-nav-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 11px 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 5px;
    margin-bottom: 4px;
    background: #ffffff;
    border: 1px solid transparent;
}

.intake-nav-item:hover {
    background: #f1f5f9;
    border-color: #e2e8f0;
    transform: translateX(2px);
}

.intake-nav-item.active {
    background: #f1f5f9;
    border-color: #e2e8f0;
    border-left: 3px solid #2e37a4;
}

.intake-nav-icon {
    --slds-c-icon-color-foreground-default: #64748b;
}

.intake-nav-item.active .intake-nav-icon {
    --slds-c-icon-color-foreground-default: #2e37a4;
}

.intake-nav-text {
    flex: 1;
    font-size: 0.85rem;
    color: #475569;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.intake-nav-item.active .intake-nav-text {
    color: #2e37a4;
    font-weight: 600;
}

/* Right Content Area */
.intake-content {
    width: 55%;
    padding: 32px;
    
    overflow-y: auto;
}

/* Forms Row - Side by Side Layout */
.intake-forms-row {
    display: flex;
    gap: 24px;
    margin-bottom: 24px;
}

.intake-form-wrapper {
    flex: 1;
    min-width: 0;
}

/* Section Title */
.intake-section-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #1e3a5f;
    margin-bottom: 16px;
    margin-top: 8px;
    background: transparent;
}

.intake-section-title:first-child {
    margin-top: 0;
}

/* Intake Card */
.intake-card {
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
    border: 1px solid #e9ecef;
    margin-bottom: 24px;
}

.intake-card-body {
    padding: 24px;
}

/* Form Actions - Button Container */
.intake-form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
    padding-top: 16px;
    border-top: 1px solid #e9ecef;
}

/* Save Button */
.btn-save {
    display: flex;
    align-items: center;
    gap: 8px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: #ffffff;
    border: none;
    padding: 12px 24px;
    border-radius: 6px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-save:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
}

.btn-save lightning-icon {
    --slds-c-icon-color-foreground-default: #ffffff;
}

/* Clear Button */
.btn-clear {
    background: #1e293b;
    color: #ffffff;
    border: none;
    padding: 12px 24px;
    border-radius: 6px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-clear:hover {
    background: #0f172a;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(30, 41, 59, 0.4);
}

/* Back Button */
.btn-back {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #ffffff;
    color: #475569;
    border: 1px solid #e2e8f0;
    padding: 12px 24px;
    border-radius: 6px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-back:hover {
    background: #f8fafc;
    border-color: #cbd5e1;
    transform: translateY(-1px);
}

.btn-back lightning-icon {
    --slds-c-icon-color-foreground-default: #475569;
}

.btn-icon-left {
    margin-right: 4px;
}

.btn-icon-right {
    margin-left: 4px;
}

/* Global Form Actions */
.intake-global-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 32px;
    padding-top: 24px;
    
}

/* Company Details Custom Styles - Single Column Layout */
.company-details-wrapper {
    max-width: 100%;
}

.company-details-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: #1e3a5f;
    margin-bottom: 20px;
}

.company-details-card {
    background: #ffffff;
    border: 1px solid #dee2e6;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.company-details-body {
    padding: 28px;
}

.company-institution-row,
.company-size-row,
.company-url-row {
    margin-bottom: 20px;
    width: 100%;
}

.company-institution-row:last-child,
.company-size-row:last-child,
.company-url-row:last-child {
    margin-bottom: 0;
}

.company-institution-field,
.company-size-field,
.company-url-field {
    display: flex;
    flex-direction: column;
    width: 100%;
}

.company-institution-label,
.company-size-label,
.company-url-label {
    font-size: 0.95rem;
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
}

.company-institution-input,
.company-size-input,
.company-url-input {
    width: 100%;
}

/* Remove borders from lightning components */
.company-institution-input lightning-input,
.company-size-input lightning-combobox,
.company-url-input lightning-input {
    --slds-c-input-shadow: none;
    --slds-c-input-border-color: transparent;
}

/* Fix combobox gap issue */
.company-size-input lightning-combobox {
    margin-top: -8px;
}

/* Form Rows */
.intake-form-row {
    margin-bottom: 20px;
}

.intake-form-row:last-child {
    margin-bottom: 0;
}

.intake-form-row.two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
}

/* Form Fields */
.intake-field {
    display: flex;
    flex-direction: column;
}

.intake-field.half-width {
    width: 50%;
}

.intake-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #333;
    margin-bottom: 8px;
}

.intake-label .required {
    color: #dc3545;
    margin-right: 4px;
}

.intake-input {
    width: 100%;
}

/* Checkbox Grid */
.intake-checkbox-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px 24px;
    padding: 16px 0;
}

.intake-checkbox-grid.therapeutic-grid {
    max-height: 450px;
    overflow-y: auto;
    padding-right: 12px;
}

/* Custom checkbox styling */
.intake-checkbox-grid lightning-input {
    --slds-c-checkbox-color-background-checked: #4fc3f7;
    --slds-c-checkbox-color-border: #adb5bd;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .intake-container {
        flex-direction: column;
    }

    .intake-forms-row {
        flex-direction: column;
    }
    
    .intake-left-nav {
        width: 100%;
        min-width: unset;
        display: flex;
        flex-wrap: wrap;
        overflow-x: auto;
        gap: 0.5rem;
        background: #ffffff;
        padding: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }
    
    .intake-nav-header {
        display: none;
    }
    
    .intake-nav-item {
        padding: 11px 14px;
        border: 1px solid transparent;
        background: #ffffff;
        border-radius: 5px;
        margin-bottom: 4px;
    }
    
    .intake-nav-item.active {
        background: #f1f5f9;
        border-color: #e2e8f0;
        border-left: 3px solid #2e37a4;
    }
    
    .intake-content {
        padding: 24px;
    }
    
    .intake-form-row.two-col {
        grid-template-columns: 1fr;
    }
    
    .intake-checkbox-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 600px) {
    .intake-checkbox-grid {
        grid-template-columns: 1fr;
    }
    
    .intake-field.half-width {
        width: 100%;
    }
}
