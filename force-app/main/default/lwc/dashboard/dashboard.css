/* Dashboard component styles */

.row {
    display: flex;
    flex-wrap: wrap;
    margin-right: -0.75rem;
    margin-left: -0.75rem;
}

.kpi-grid-wrapper {
    width: 101%;
    padding: 0 2.75px;
    box-sizing: border-box;
    margin-bottom: 0.5rem;
}

.kpi-grid-layout {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 0.5rem;
    grid-auto-rows: auto;
}

.kpi-card-wrapper {
    padding: 0.75rem;
}

.kpi-grid-layout .kpi-card-wrapper {
    width: 100%;
    height: 100%;
}

.kpi-grid-layout .kpi-card-wrapper > .position-relative {
    height: 100%;
}

@media (max-width: 1199px) {
    .kpi-grid-layout {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    .kpi-task-grid-cell {
        grid-column: span 2;
        grid-row: span 1;
    }
}

@media (max-width: 767px) {
    .kpi-grid-layout {
        grid-template-columns: 1fr;
    }
}

.col-xl-3,
.col-md-6 {
    position: relative;
    width: 100%;
    padding-right: 0.75rem;
    padding-left: 0.75rem;
    flex: 0 0 25%;
    max-width: 25%;
    margin-bottom: 1.5rem;
}

/* half-row column helper */
.col-xl-6 {
    position: relative;
    width: 100%;
    padding-right: 0.75rem;
    padding-left: 0.75rem;
    flex: 0 0 50%;
    max-width: 50%;
    margin-bottom: 1.5rem;
}

/* Full-width column helper (used for the chart row) */
.col-12 {
    position: relative;
    width: 100%;
    padding-right: 0.75rem;
    padding-left: 0.75rem;
    flex: 0 0 100%;
    max-width: 100%;
    margin-bottom: 1.5rem;
}

/* three-column helper */
.col-xl-4 {
    position: relative;
    width: 100%;
    padding-right: 0.75rem;
    padding-left: 0.75rem;
    flex: 0 0 33.333333%;
    max-width: 33.333333%;
    margin-bottom: 1.5rem;
}

@media (max-width: 1199px) {
    .col-xl-3 {
        flex: 0 0 50%;
        max-width: 50%;
    }
    .col-xl-4 {
        flex: 0 0 50%;
        max-width: 50%;
    }
}

@media (max-width: 767px) {
    .col-md-6 {
        flex: 0 0 100%;
        max-width: 100%;
    }
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid rgba(0, 0, 0, 0.125);
}

.card-body {
    flex: 1 1 auto;
    padding: 1.25rem;
}

/* Card header for chart title + controls */
.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1.25rem;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}

.float-end {
    float: right;
}

.rounded-2 {
    border-radius: 0.375rem !important;
}

.shadow-sm {
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;
}

.position-relative {
    position: relative !important;
}

.position-absolute {
    position: absolute !important;
}

.start-0 {
    left: 0 !important;
}

.top-0 {
    top: 0 !important;
}

.d-flex {
    display: flex !important;
}

.align-items-center {
    align-items: center !important;
}

.justify-content-between {
    justify-content: space-between !important;
}

.mb-0 {
    margin-bottom: 0 !important;
}

.mb-1 {
    margin-bottom: 0.25rem !important;
}

.mb-2 {
    margin-bottom: 0.5rem !important;
}

.text-end {
    text-align: right !important;
}

.avatar {
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.rounded-circle {
    border-radius: 50% !important;
}

.bg-primary {
    background-color: #0d6efd !important;
}

.bg-danger {
    background-color: #dc3545 !important;
}

.bg-info {
    background-color: #0dcaf0 !important;
}

.bg-success {
    background-color: #198754 !important;
}

.badge {
    display: inline-block;
    padding: 0.35em 0.65em;
    font-size: 0.75em;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: 0.375rem;
}

.fs-12 {
    font-size: 0.75rem !important;
}

.fs-13 {
    font-size: 0.8125rem !important;
}

.fs-24 {
    font-size: 1.5rem !important;
}

.fw-medium {
    font-weight: 500 !important;
}

.fw-bold {
    font-weight: 700 !important;
}

.d-inline-flex {
    display: inline-flex !important;
}

.px-2 {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
}

.py-1 {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
}

.overflow-hidden {
    overflow: hidden !important;
}

.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.chart-set {
    width: 80px;
    height: 50px;
}

.chart-set canvas {
    width: 100% !important;
    height: 100% !important;
}

/* Column chart container */
.column-chart-container {
    width: 100%;
    height: 360px; /* slightly reduced height to better match layout */
    min-height: 320px;
}

.chart.column-chart-container > div[data-id] {
    width: 100%;
    height: 100%;
}

/* Year select modernized */
.year-select {
    padding: 0.28rem 0.8rem;
    font-size: 0.9rem;
    background: #fff;
    border: 1px solid rgba(0,0,0,0.12);
    border-radius: 6px;
    box-shadow: 0 1px 2px rgba(16,24,40,0.03);
    height: 34px;
    line-height: 1.1;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    cursor: pointer;
}

.year-select:focus {
    outline: none;
    border-color: rgba(13,110,253,0.6);
    box-shadow: 0 0 0 3px rgba(13,110,253,0.08);
}

/* Small visual tweak to add spacing between title and selector */
.card-header .year-select {
    margin-left: 0.5rem;
}

/* Add a consistent down-arrow caret inside the year-select using an inline SVG data URI */
.year-select {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23222' d='M7 10l5 5 5-5z'/></svg>");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 12px 12px;
    padding-right: 34px; /* give space for the caret */
}

/* Highcharts figure / container adjustments */
.highcharts-figure {
    margin: 0;
}

[data-id="container10"] {
    width: 100% !important;
    height: 420px !important;
    min-height: 360px !important;
}

/* Two-column row specific adjustments so both cards fill their half of the row */
.two-column-row {
    align-items: stretch; /* make columns equal height */
}
.two-column-row .col-xl-6 {
    display: flex;
}
.two-column-row .col-xl-6 .card {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
}
/* Center the pie inside its card body */
.two-column-row .col-xl-6:first-child .card-body {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1.25rem;
}
.two-column-row .col-xl-6:first-child .highcharts-figure {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Let the pie scale responsively but cap at a reasonable width so it visually fills the half row */
[data-id="container10"] {
    width: 80% !important;
    max-width: 520px !important;
    height: 420px !important;
    min-height: 360px !important;
}

/* Styles for the three-column row we changed to replicate screenshot spacing */
.three-column-row {
    align-items: stretch; /* equal height */
    /* removed gap to avoid flex-basis + gap causing wrap on narrower containers */
}
.three-column-row .col-xl-4 {
    display: flex;
}
.three-column-row .col-xl-4 .card {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    /* slightly reduced min-height to allow a tighter visual appearance */
    min-height: 280px; /* reduced further to tighten cards */
}
.three-column-row .col-xl-4 .card-body {
    /* Prevent content from overflowing horizontally and overlapping neighbors */
    overflow: hidden;
    position: relative;
}
.three-column-row .col-xl-4 .card-body > .d-flex {
    /* Ensure each row inside card-body occupies full width and respects box-sizing */
    width: 100%;
    box-sizing: border-box;
}
.three-column-row .col-xl-4 .card-body .d-flex > div {
    /* Allow text to truncate instead of forcing width expansion */
    min-width: 0;
}
.three-column-row .col-xl-4 .card-body .avatar {
    flex: 0 0 3rem;
    width: 3rem;
    height: 3rem;
    margin-right: 0.5rem;
}

/* Make the list rows inside the three-column cards use available vertical space */
.three-column-row .col-xl-4 .card-body {
    display: flex;
    flex-direction: column;
    /* Flow items naturally from the top so the middle card doesn't stretch with large gaps */
    justify-content: flex-start;
    padding-top: 0.4rem;
    padding-bottom: 0.4rem;
}
.three-column-row .col-xl-4 .card-body .d-flex {
    padding-top: 0.12rem;
    padding-bottom: 0.12rem;
}
.three-column-row .col-xl-4 .card-body .avatar {
    flex: 0 0 32px;
    width: 32px;
    height: 32px;
    margin-right: 0.5rem;
}
.three-column-row .col-xl-4 .card-body h6 {
    font-size: 1rem;
}
.three-column-row .col-xl-4 .card-body p {
    font-size: 0.95rem;
    color: #6c757d;
}

.task-grid-actions-bar {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding: 0 0.75rem 0.75rem;
}

@media (max-width: 767px) {
    .task-grid-actions-bar {
        justify-content: flex-start;
        flex-wrap: wrap;
    }
}

.task-grid-wrapper {
    display: flex;
    padding: 0;
}

.kpi-task-grid-cell {
    grid-column: span 2;
    grid-row: span 2;
    align-self: stretch;
}

.kpi-task-grid-cell .task-todo-card {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.task-todo-card {
    width: 100%;
    display: flex;
    flex-direction: column;
    border: 1px solid rgba(0, 0, 0, 0.08);
}

.task-grid-actions {
    display: flex;
    gap: 0.75rem;
}

.btn-sponsor-action {
    background-color: #2e37a4;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 6px 14px 6px 28px;
    font-weight: 600;
    position: relative;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    /* box-shadow: 0 4px 10px rgba(46, 55, 164, 0.25); */
}

.btn-sponsor-action .plus-symbol {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.35rem;
    line-height: 1;
}

.btn-sponsor-action:hover {
    background-color: #252d88;
}

.task-grid-body {
    padding: 0;
}

.task-grid-table-wrapper {
    width: 100%;
    overflow-x: auto;
}

.task-grid-table {
    width: 99%;
    border-collapse: separate;
    border-spacing: 0;
    font-size: 0.9rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    overflow: hidden;
    background: #fff;
}

.task-grid-table thead {
    background: #f4f6fb;
}

.task-grid-table th,
.task-grid-table td {
    padding: 12px 16px;
    border-bottom: 1px solid #e6e9ee;
    text-align: left;
}

.task-grid-table th {
    font-weight: 600;
    color: #0b2c4a;
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.6px;
}

.task-grid-table tbody tr:hover {
    background: #f9fbff;
}

.task-meta-text {
    font-size: 0.85rem;
    color: #556070;
}

.task-subject {
    color: #1a1f36;
    font-weight: 600;
}

.task-subject.critical {
    color: #c71f37;
}

.responsibility-cell {
    display: flex;
    align-items: center;
    gap: 0.65rem;
}

.avatar.thumb {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    background: #e9eef7;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: #2e37a4;
}

.avatar.thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.avatar.thumb .initials {
    font-size: 0.85rem;
}

.responsibility-name {
    font-weight: 600;
    color: #111b2b;
}

.responsibility-org {
    font-size: 0.82rem;
    color: #6c7a89;
}

@media (max-width: 991px) {
    .task-grid-wrapper {
        margin-top: 1rem;
    }
}
.three-column-row .col-xl-4 .card-body .badge {
    padding: 0.25em 0.6em;
    font-size: 1.03rem;
}

/* Ensure last row doesn't stick to bottom too tightly */
.three-column-row .col-xl-4 .card-body .mb-0 {
    margin-bottom: 0.25rem !important;
}

/* Pie-column override: keep pie card from stretching to match other cards */
.three-column-row .pie-column .card {
    /* smaller fixed min-height so it doesn't expand with other list cards */
    min-height: 260px !important;
    max-height: 320px;
    align-self: flex-start; /* don't stretch to match siblings */
}
.three-column-row .pie-column .card-body {
    /* center the pie and avoid space-between distribution */
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: 1.25rem;
    padding-bottom: 1.25rem;
    overflow: visible;
}
.three-column-row .col-xl-4 {
    box-sizing: border-box; /* include padding in width calculations to avoid overflow/wrap */
}
/* Allow pie to overflow its inner drawing area so connector labels aren't clipped */
.three-column-row .pie-column .card-body {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1.25rem;
    overflow: visible; /* important: Highcharts draws labels outside the pie */
}
/* Make the pie container a fixed, centered box so the chart has room for labels/connectors */
.three-column-row [data-id="container10"] {
    width: 340px !important;
    max-width: 340px !important;
    height: 280px !important;
    min-height: 240px !important;
    margin: 0 auto; /* center inside the card-body */
}

/* Ensure the highcharts figure itself does not clip overflow */
.three-column-row .pie-column .highcharts-figure {
    overflow: visible;
}

/* Donut-specific overrides: target the right column where apexDonut is rendered */
.three-column-row .donut-column .card {
    /* Make the donut card match the other three-column cards so layout is consistent */
    min-height: 280px !important;
    max-height: none;
    align-self: stretch;
}
.three-column-row .donut-column .card-body {
    /* Align similarly to the pie card: top-align content so donut sits in the card's upper area
       and legend naturally follows below. Keep overflow visible for labels/connectors. */
    overflow: visible;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
        height: 315px;
}
    
.three-column-row [data-id="apexDonut"] {
    /* make donut container responsive and centered like the pie chart container */
    width: 100% !important;
    max-width: 340px !important;
    height: 280px !important;
    min-height: 220px !important;
    margin: 0 auto; /* center inside card-body */
}

/* make the figure a positioning context for the donut center overlay */
.highcharts-figure {
    position: relative;
}

/* Center overlay for the donut total */
.donut-center {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    pointer-events: none;
    z-index: 5; /* ensure it's above the svg */
}
.donut-center .label {
    font-size: 13px;
    color: #0A1B39;
    font-weight: 500;
}
.donut-center .value {
    font-size: 28px;
    color: #4b5563;
    font-weight: 700;
    margin-top: 6px;
}
.three-column-row .donut-column .highcharts-figure,
.three-column-row .donut-column .chart-set {
    overflow: visible;
}

/* ApexCharts donut legend & center styling to match design */
.three-column-row .donut-column .apexcharts-legend {
    display: flex !important;
    justify-content: center;
    gap: 16px;
    flex-wrap: wrap;
    padding-top: 12px;
}
.three-column-row .donut-column .apexcharts-legend-series {
    display: inline-flex !important;
    align-items: center;
    gap: 8px;
}
.three-column-row .donut-column .apexcharts-legend-marker {
    width: 10px !important;
    height: 10px !important;
    border-radius: 50% !important;
    margin-right: 6px !important;
}
.three-column-row .donut-column .apexcharts-legend-text {
    font-size: 13px !important;
    color: #1f2b3a !important;
}

/* Center label/value inside donut - larger value and subtle label above it */
.three-column-row .donut-column .apexcharts-donut .apexcharts-donut-label .apexcharts-donut-total-label {
    font-size: 14px !important;
    color: #1f2b3a !important;
    font-weight: 500 !important;
}
.three-column-row .donut-column .apexcharts-donut .apexcharts-donut-label .apexcharts-donut-total-value {
    font-size: 28px !important;
    color: #4b5563 !important;
    font-weight: 700 !important;
    margin-top: 6px;
}

/* Custom legend inserted into the card body (replaces ApexCharts built-in legend) */
.donut-legend {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
    padding-top: 10px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 40px; /* ensure legend sits well below the donut */
    position: relative;
    z-index: 2; /* keep legend above background but below overlay if needed */
}
.donut-legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #2b3b4a;
    font-size: 13px;
}
.donut-marker {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: inline-block;
    border: 2px solid #fff; /* white stroke so color reads clearly on any background */
    box-shadow: 0 1px 2px rgba(0,0,0,0.08); /* subtle separation */
    vertical-align: middle;
    margin-right: 6px;
}
.donut-label {
    color: #4b5563;
}

/* Align select/button inside header to match screenshot */
.three-column-row .card-header .form-select,
.three-column-row .card-header .year-select,
.three-column-row .card-header .btn {
    height: 34px;
    padding: 0.25rem 0.6rem;
    font-size: 0.875rem;
}

/* Right-side badges (Validation Accuracy) â€” smaller pill look */
.three-column-row .card-body .badge.bg-success {
    background-color: #198754;
    color: #fff;
    padding: 0.35em 0.6em;
    border-radius: 0.5rem;
}

.no-tooltips {
    pointer-events: none;
}

.no-tooltips > * {
    pointer-events: auto;
}

/* Lightning icon styling */
lightning-icon {
    --slds-c-icon-color-foreground-default: white;
}

/* Heatmap legend styling */
.heatmap-legend {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    padding-top: 10px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px;
}
.heatmap-legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #2b3b4a;
    font-size: 13px;
}
.heatmap-marker {
    width: 18px;
    height: 18px;
    border-radius: 4px;
    display: inline-block;
    border: 2px solid #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    vertical-align: middle;
}
.heatmap-label {
    color: #4b5563;
}

.my-card .slds-card__header-title .slds-text-heading_small {
    font-weight: bold;
}

.task-todo-card::part(card) {
    height: 10px;
    min-height: 10px;
}
